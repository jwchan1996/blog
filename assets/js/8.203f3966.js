(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{401:function(t,s,a){t.exports=a.p+"assets/img/git_reset_HEAD.12d1ae2e.png"},402:function(t,s,a){t.exports=a.p+"assets/img/git_reset_--soft_HEAD_.3fc4d753.png"},403:function(t,s,a){t.exports=a.p+"assets/img/git_commit_--amend.7875f728.png"},404:function(t,s,a){t.exports=a.p+"assets/img/git_log.b71beaa2.png"},405:function(t,s,a){t.exports=a.p+"assets/img/git_reset_--hard_sha1.fd6adf78.png"},406:function(t,s,a){t.exports=a.p+"assets/img/git_reset_--hard_sha1_2.720f9bca.png"},490:function(t,s,a){"use strict";a.r(s);var e=a(43),_=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"git-撤销操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-撤销操作"}},[t._v("#")]),t._v(" Git 撤销操作")]),t._v(" "),e("p",[t._v("我们在使用 "),e("code",[t._v("git")]),t._v(" 管理代码的时候，在步骤内经常会出现一些不符合规范或错误的提交，比如在 "),e("code",[t._v("git add")]),t._v("，"),e("code",[t._v("git commit")]),t._v("，"),e("code",[t._v("git push")]),t._v(" 操作的时候，这时候就需要做撤销相关操作的处理，再进行合乎规范以及正确的代码提交。")]),t._v(" "),e("h2",{attrs:{id:"git-文件恢复"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-文件恢复"}},[t._v("#")]),t._v(" git 文件恢复")]),t._v(" "),e("p",[t._v("当我们对某个文件进行了代码修改之后，还没有进行 "),e("code",[t._v("git add")]),t._v(" 操作，但是我们意识到不应该修改这个文件的时候，可以使用命令 "),e("code",[t._v("git checkout -- <file>")]),t._v(" 使文件恢复到到上一次提交时的样子。")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -- src/render/VueRender.js\n")])])]),e("h2",{attrs:{id:"git-add-撤销"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-add-撤销"}},[t._v("#")]),t._v(" git add 撤销")]),t._v(" "),e("p",[t._v("当已经进行了 "),e("code",[t._v("git add")]),t._v(" 操作，想要撤销 "),e("code",[t._v("git add")]),t._v(" 操作。")]),t._v(" "),e("p",[e("code",[t._v("HEAD")]),t._v(" 代表当前版本，"),e("code",[t._v("HEAD^")]),t._v(" 代表前一个版本，"),e("code",[t._v("HEAD^^")]),t._v(" 代表前两个版本，以此类推。")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 全部撤销")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reset HEAD\n")])])]),e("p",[e("img",{attrs:{src:a(401),alt:"git_reset_HEAD.png"}})]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定文件撤销 git reset HEAD <file>，文件名可通过 git status 获取。")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reset HEAD src/render/VueRender.js\n")])])]),e("h2",{attrs:{id:"git-commit-撤销"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-commit-撤销"}},[t._v("#")]),t._v(" git commit 撤销")]),t._v(" "),e("p",[t._v("当已经进行了 "),e("code",[t._v("git add")]),t._v("，并且 "),e("code",[t._v("git commit")]),t._v("，但是还没有 "),e("code",[t._v("git push")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 回退到 git add 操作")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reset --soft HEAD^\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果进行了 2 次 commit，想都撤回，可以使用以下命令，以此类推")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reset --soft HEAD^^\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或者使用 HEAD~1，HEAD~2 也可以，以此类推")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reset --soft HEAD~1\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reset --soft HEAD~2\n")])])]),e("p",[e("img",{attrs:{src:a(402),alt:"git_reset_--soft_HEAD^.png"}})]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 不保留 `git add` 操作，则需要再进行 git add 回退，共两条命令")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reset --soft HEAD^\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reset HEAD\n")])])]),e("h2",{attrs:{id:"git-commit-信息修改"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-commit-信息修改"}},[t._v("#")]),t._v(" git commit 信息修改")]),t._v(" "),e("p",[t._v("不进行代码变动，"),e("code",[t._v("git commit")]),t._v(" 操作之后，"),e("code",[t._v("git push")]),t._v(" 操作之前，只修改 "),e("code",[t._v("git commit")]),t._v(" 提交的信息内容。")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit --amend\n")])])]),e("p",[t._v("输入命令后，会进入 "),e("code",[t._v("vim")]),t._v(" 编辑，修改保存即可。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(403),alt:"git_commit_--amend.png"}})]),t._v(" "),e("h2",{attrs:{id:"git-push-撤销"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-push-撤销"}},[t._v("#")]),t._v(" git push 撤销")]),t._v(" "),e("p",[t._v("当我们进行了 "),e("code",[t._v("git add")]),t._v("，"),e("code",[t._v("git commit")]),t._v("，"),e("code",[t._v("git push")]),t._v(" 等操作后，我们的本地的代码已经同步到远端了。")]),t._v(" "),e("p",[t._v("首先我们需要在本地回退版本：")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 回退上一个版本")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reset --hard HEAD^\n")])])]),e("p",[t._v("或者查看 "),e("code",[t._v("commit")]),t._v(" 的代码版本号，使用指定的版本号进行回退：")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" log\n")])])]),e("p",[e("img",{attrs:{src:a(404),alt:"git_log.png"}})]),t._v(" "),e("p",[t._v("回退到版本号为 "),e("code",[t._v("840d8a")]),t._v(" 的版本：")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reser --hard 840d8a\n")])])]),e("p",[e("img",{attrs:{src:a(405),alt:"git_reset_--hard_sha1.png"}})]),t._v(" "),e("p",[t._v("如果不小心回退错了版本，没关系！"),e("br"),t._v("\n只要命令窗口没关，向上滑查看版本号，依然可以回到任意版本号。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(406),alt:"git_reset_--hard_sha1_2.png"}})]),t._v(" "),e("p",[t._v("当我们回退到我们需要的版本后，剩下的就是同步远端的代码库：")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push -f\n")])])]),e("p",[t._v("使用 "),e("code",[t._v("-f")]),t._v(" 参数强制推送，即可覆盖远端版本库，使之与本地版本库一致。")])])}),[],!1,null,null,null);s.default=_.exports}}]);